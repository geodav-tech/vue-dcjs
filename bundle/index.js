/*!
 * vue-dcjs v0.1.9
 * (c) 
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("dc"),e=require("d3"),i=require("crossfilter2"),r=require("vue-runtime-helpers/dist/normalize-component.mjs"),n=require("vue-runtime-helpers/dist/inject-style/browser.mjs"),s=require("@/dc-utils"),o=require("@/mixins");function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function c(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var h=c(t),u=c(e),d=a(i),l=a(r),p=a(n);function f(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=v(t);if(e){var n=v(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return b(this,i)}}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==i)return;var r,n,s=[],o=!0,a=!1;try{for(i=i.call(t);!(o=(r=i.next()).done)&&(s.push(r.value),!e||s.length!==e);o=!0);}catch(t){a=!0,n=t}finally{try{o||null==i.return||i.return()}finally{if(a)throw n}}return s}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t){return function(t){if(Array.isArray(t))return A(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||O(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){if(t){if("string"==typeof t)return A(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?A(t,e):void 0}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var _=function(i){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&g(t,e)}(a,t.CapMixin(t.ColorMixin(t.MarginMixin)));var r,n,s,o=x(a);function a(t,i){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),m(y(r=o.call(this,t,i)),"_g",void 0),m(y(r),"_scale",void 0),m(y(r),"_elastic",void 0),m(y(r),"_type","axisBottom"),m(y(r),"_theAxis",e.axisBottom()),m(y(r),"_axisData",void 0),m(y(r),"validAxisTypes",["axisBottom","axisTop","axisLeft","axisRight"]),m(y(r),"axisCap",void 0),r.anchor(t,i),r}return r=a,(n=[{key:"calculateAxisScale",value:function(){var t=this;if(!this._scale||this._elastic){var i=e.extent(this._axisData,(function(e,i){return t.cappedValueAccessor(e,i)}));i[0]>0&&(i[0]=0),i[1]<0&&(i[1]=0),this._scale=e.scaleLinear().domain(i).range([0,"axisBottom"===this._type||"axisTop"===this._type?this.effectiveWidth():this.effectiveHeight()])}this._theAxis.scale(this._scale)}},{key:"drawAxis",value:function(){var e=this._g.select("g.axis");this.calculateAxisScale(),e.empty()&&(e=this._g.append("g").attr("class","axis")),t.transition(e,this.transitionDuration(),this.transitionDelay()).call(this._theAxis)}},{key:"_doRender",value:function(){return this.minHeight(1),this.height(50),this.resetSvg(),this._g=this.svg().append("g").attr("transform","translate(".concat(this.margins().left,", ").concat(this.margins().top,")")),this.drawChart(),this}},{key:"type",value:function(t){return arguments.length?(-1!==this.validAxisTypes.indexOf(t)?(this._theAxis=d3[t](),this._type=t):console.error(t+" is not a valid d3 axis type"),this):this._type}},{key:"scale",value:function(t){return arguments.length?(this._scale=t,this):this._scale}},{key:"elastic",value:function(t){return arguments.length?(this._elastic=t,this):this._elastic}},{key:"axis",value:function(){return this._theAxis}},{key:"drawChart",value:function(){this._axisData=this.data(),this.drawAxis()}},{key:"_doRedraw",value:function(){return this.drawChart(),this}}])&&f(r.prototype,n),s&&f(r,s),Object.defineProperty(r,"prototype",{writable:!1}),a}();require("dc/dist/style/dc.min.css"),h.AxisChart=_;var $={useWindowResize:!0,resizeTimeout:100,useResetListener:!0,resetSelector:function(t){return document.querySelector(t.anchor()).closest(".example-container").querySelectorAll(".example-reset-button")}},w={install:function(t,e){var i=Object.assign({},$,e);if(t.prototype.$VueDcOptions=i,null!=i&&i.defaultColors&&h.config.defaultColors(i.defaultColors),t.prototype.$dc=h,t.prototype.$d3=u,t.prototype.$crossfilter=d.default,i.useWindowResize){var r=null;window.addEventListener("resize",(function(){r&&clearTimeout(r),r=setTimeout((function(){h.renderAll(),r=null}),i.resizeTimeout)}))}}},F={props:{axisOptions:{type:Object}},methods:{applyAxisOptions:function(){var t,e,i,r,n=this,s=this.computedAxisOptions.x,o=this.computedAxisOptions.y;if(this.chart&&(s||o)){var a=null===(t=(e=this.chart).xAxis)||void 0===t?void 0:t.call(e),c=null===(i=(r=this.chart).yAxis)||void 0===i?void 0:i.call(r),h=function(t,e){(e||0===e)&&t.ticks(e)},u=function(t,e){"string"==typeof e?t.tickFormat(n.$d3.format(e)):"number"==typeof e?t.tickFormat=n.$d3.format(",.".concat(e,"f")):"function"==typeof e&&t.tickFormat(e)},d=function(t,e){e&&Array.isArray(e)&&t.tickValues(e)},l=function(t,e){(e||0===e)&&t.tickSize(e)};s&&a&&(h(a,s.ticks),u(a,s.format),d(a,s.values),l(a,s.size),s.x&&"function"==typeof this.chart.x&&this.chart.x(s.x(this.$options.dimension))),o&&c&&(h(c,o.ticks),u(c,o.format),d(c,o.values),l(c,o.size),o.y&&"function"==typeof this.chart.y&&this.chart.y(o.y(this.$options.dimension)))}}},computed:{computedAxisOptions:function(){var t,e,i={x:null,y:null};return this.computedOptions.xAxis&&(i.x=Object.assign({},this.computedOptions.xAxis)),this.computedOptions.yAxis&&(i.y=Object.assign({},this.computedOptions.yAxis)),null!==(t=this.axisOptions)&&void 0!==t&&t.x&&(i.x=Object.assign({},i.x,this.axisOptions.x)),null!==(e=this.axisOptions)&&void 0!==e&&e.y&&(i.y=Object.assign({},i.y,this.axisOptions.y)),i}}},S=l.default({},void 0,F,void 0,void 0,void 0,!1,void 0,void 0,void 0);function D(t){return"function"==typeof t?t:function(e){return e[t]}}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1/0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Math.max(e,Math.min(t,i))}var R={name:"BaseChartMixin",dimension:null,myName:"baseChart",props:{ndx:{type:Object,required:!0},name:{type:String},options:{type:Object}},baseDefaultOptions:{disposeDimension:!0,render:!0},data:function(){return{chart:null,resetButtonFunction:null,resetButtons:[]}},mounted:function(){this.drawChart()},methods:{reset:function(){this.chart&&this.chart.filter(null)},drawChart:function(){this.createChart(),this.addChartExtras(),this.callOnCreate(),this.computedOptions.onFilter&&this.chart.on("filtered",this.computedOptions.onFilter),this.computedOptions.onClick&&this.chart.on("click",this.computedOptions.onClick),this.$VueDcOptions.useResetListener&&"function"==typeof this.$VueDcOptions.resetSelector&&this.setupResetListener(),this.computedOptions.render&&this.renderChart()},createChart:function(){var t=this.computedOptions,e=t.valueAccessor,i=t.margins,r=t.keyAccessor,n=t.title,s=t.label,o=t.height,a=t.width;e&&this.chart.valueAccessor(D(e)),i&&this.chart.margins(this.computedMargins),r&&this.chart.keyAccessor(D(r)),n&&this.chart.title(D(n)),s&&this.chart.label(D(s)),o&&this.chart.height(o),a&&this.chart.width(a)},onResetButtonClick:function(){},renderChart:function(){var t=this;return new Promise((function(e){t.$emit("pre-render",t.chart),t.$nextTick((function(){t.render(),t.$nextTick((function(){return t.$emit("post-render",t.chart),e(t.chart)}))}))}))},render:function(){this.chart.render()},addChartExtras:function(){(this.name||this.computedOptions.name)&&(this.chart.name=this.name||this.computedOptions.name),this.chart.vueOptions=this.computedOptions},callOnCreate:function(){this.$emit("on-create",this.chart)},setupResetListener:function(){var t=this,e=(0,this.$VueDcOptions.resetSelector)(this.chart);"function"!=typeof e.forEach&&(e=[e]),this.resetButtons=e,this.resetButtonFunction=function(){t.chart.filterAll(),t.$dc.redrawAll()},e.forEach((function(e){e.addEventListener("click",t.resetButtonFunction)}));var i=function(){var e=t.chart.hasFilter();t.resetButtons.forEach((function(t){e?t.classList.remove("dc-reset-is-hidden"):t.classList.add("dc-reset-is-hidden")}))};this.chart.on("filtered.reset",i),i()}},computed:{computedMargins:function(){if("number"==typeof this.computedOptions.margins){var t=this.computedOptions.margins;return{top:t,left:t,right:t,bottom:t}}var e,i;return Object.assign({top:30,right:30,bottom:30,left:30},null===(e=this.$options.defaultOptions)||void 0===e?void 0:e.margins,null===(i=this.options)||void 0===i?void 0:i.margins)},computedOptions:function(){return Object.assign({},this.$options.baseDefaultOptions,this.$options.defaultOptions,this.options)}},beforeDestroy:function(){if(this.chart){var t=this.chart.dimension();t&&t.filterAll(),this.$dc.chartRegistry.deregister(this.chart)}this.computedOptions.disposeDimension&&this.$options.dimension&&this.$options.dimension.dispose()}},L=function(t){t&&t("data-v-ec2b409e_0",{source:".dc-reset-is-hidden{display:none!important}",map:void 0,media:void 0})},T=l.default({},L,R,void 0,void 0,void 0,!1,p.default,void 0,void 0),E={name:"DimensionMixin",props:{dimensionConstructor:{type:[String,Function]},dimensionIsArray:{type:Boolean,default:!1}},methods:{createDimension:function(){var t=function(t){return t};return"string"==typeof this.dimensionConstructor?t=this.$dc.pluck(this.dimensionConstructor):"function"==typeof this.dimensionConstructor&&(t=this.dimensionConstructor),this.ndx.dimension(t,this.dimensionIsArray)}}},M=l.default({},void 0,E,void 0,void 0,void 0,!1,void 0,void 0,void 0),B={name:"GroupMixin",props:{reducer:{type:[String,Function,Object]},groupOptions:{type:Object}},methods:{createGroup:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i?t.groupAll():t.group();if(this.groupOptions&&this.groupOptions.order?"string"==typeof this.groupOptions.order?r.order((function(t){return t[e.groupOptions.order]})):"function"==typeof this.groupOptions.order&&r.order(this.groupOptions.order):this.groupOptions&&this.groupOptions.orderNatural&&r.orderNatural(),"string"==typeof this.reducer||"function"==typeof this.reducer)r.reduceSum(D(this.reducer));else if(this.reducer.add&&this.reducer.remove&&this.reducer.init){var n=this.reducer,s=n.add,o=n.remove,a=n.init;r.reduce(s,o,a)}return this.$emit("group-created",r),r},ordinalToLinear:function(t,e){var i,r,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{top:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n?Object.entries(t.value()).map((function(t){var e=k(t,2);return{key:e[0],value:e[1]}})).sort((function(t,i){return e(i.value)-e(t.value)})).slice(0,i):t.order((function(t){return e(t)})).top(i)},all:function(){var s=[];return s=n?Object.entries(t.value()).map((function(t){var e=k(t,2);return{key:e[0],value:e[1]}})).sort((function(t,i){return e(i.value)-e(t.value)})):t.order((function(t){return e(t)})).top(1/0),i={},r=[],s.forEach((function(t,e){i[t.key]=e,r[e]=t.key})),s},ord2int:function(t){return i||this.all(),i[t]},int2ord:function(t){return r||this.all(),r[t]}}}}},P=l.default({},void 0,B,void 0,void 0,void 0,!1,void 0,void 0,void 0),N={props:{legend:{type:Boolean},legendOptions:{type:Object}},methods:{applyLegendOptions:function(){if(this.computedOptions.showLegend||this.computedOptions.legend||this.legend){var t=this.$dc.legend(),e=this.computedLegendOptions,i=e.autoWidth,r=e.gap,n=e.highlightSelected,s=e.horizontal,o=e.itemHeight,a=e.itemWidth,c=e.keyboardAccessible,h=e.legendText,u=e.legendWidth,d=e.maxItems,l=e.x,p=e.y;void 0!==i?t.autoWidth(i):void 0!==a&&t.itemWidth(a),void 0!==r&&t.gap(r),void 0!==n&&t.highlightSelected(n),void 0!==s&&t.horizontal(s),void 0!==o&&t.itemHeight(o),void 0!==c&&t.keyboardAccessible(c),void 0!==h&&t.legendText(h),void 0!==u&&t.legendWidth(u),void 0!==d&&t.maxItems(d),void 0!==l&&t.x(l),void 0!==p&&t.y(p),this.chart.legend(t)}}},computed:{computedLegendOptions:function(){var t,e;return Object.assign({},null===(t=this.defaultOptions)||void 0===t?void 0:t.legendOptions,null===(e=this.options)||void 0===e?void 0:e.legendOptions,this.legendOptions)}}},H=l.default({},void 0,N,void 0,void 0,void 0,!1,void 0,void 0,void 0),I={name:"DcBarChart",mixins:[T,M,P],defaultOptions:{elastic:!0,scrollable:!1,minScrollable:12,scrollHeight:12,mouseZoom:!0},data:function(){return{scaleChart:null,top:0,hasReplacedRenderFunc:!1}},methods:{createChart:function(){this.hasReplacedRenderFunc=!1;var t=this.computedOptions,e=t.elastic,i=t.scrollable,r=t.minScrollable,n=t.scrollHeight,s=t.groupAll,o=t.valueAccessor,a=t.label,c=t.filterFunction,h=t.mouseZoom,u=t.barPadding,d=t.barGap,l=t.outerBarPadding;this.$options.dimension=this.createDimension();var p=D(o||function(t){return t}),f=this.ordinalToLinear(this.createGroup(this.$options.dimension,s),p,s);this.top=f.all().length;var m=[-.5,this.top-.5],v=this.top?document.querySelector("#chart-".concat(this._uid)).clientWidth/r/this.top:0;if(v=Math.max(Math.ceil(v),1),this.chart=new this.$dc.BarChart("#chart-".concat(this._uid)).dimension(this.$options.dimension).group(f).x(this.$d3.scaleLinear().domain(m)).xUnits(this.$dc.units.integers).centerBar(!0).brushOn(!1).gap(v),this.$super(T).createChart(),this.chart.keyAccessor((function(t){return f.ord2int(t.key)})),this.chart.valueAccessor((function(t){return p(t.value)})),this.chart.title(this.titleAccessor),this.chart.transitionDuration(this.canScroll?50:250),e&&this.chart.elasticY(!0),this.chart.xAxis().tickFormat((function(t){return D(a||function(t){return t})(f.int2ord(t))})),this.top<=r/4){var g=this.top||1;this.chart.barPadding(r/2/g)}var y=[];this.chart.filterHandler((function(t,e){})),this.chart.hasFilter=function(t){return Array.isArray(t)?t.every((function(t){return y.includes(t)})):t?y.includes(t):y.length},this.chart.applyFilter=function(){y.length?this.dimension().filterFunction((function(t){return c?c(y,t):y.includes(t)})):this.dimension().filter(null),this._listeners.call("filtered",this,this,y)},this.chart.filterAll=function(){y=[],this.applyFilter()};var b=this.$dc,x=this.$d3;if(this.chart.fadeDeselectedArea=function(t){var e=this.chartBodyG().selectAll("rect.bar");y.length?(e.classed(b.constants.SELECTED_CLASS,(function(t){return y.includes(t.data.key)})),e.classed(b.constants.DESELECTED_CLASS,(function(t){return!y.includes(t.data.key)}))):(e.classed(b.constants.SELECTED_CLASS,!1),e.classed(b.constants.DESELECTED_CLASS,!1))},this.chart.on("pretransition.vue-dcjs",(function(t){t.selectAll("rect.bar").on("click.ordinal-select",(function(e,i){var r=y.indexOf(i.data.key);r>=0?y.splice(r,1):y.push(i.data.key),t.applyFilter(),t.redrawGroup()}))})),this.chart.on("preRedraw.vue-dcjs",(function(t){var e=t.x().domain(),i=Math.ceil(e[0]),r=Math.floor(e[1]);t.xAxis().tickValues(x.range(i,r+1)),t.rescale()})),void 0!==u?this.chart.barPadding(u):void 0!==d&&this.chart.gap(d),void 0!==l&&this.chart.outerPadding(l),i){var k=this.computedMargins,C=k.top,O=k.bottom,A=k.left,_=k.right;this.chart.margins({top:0,bottom:O,left:A,right:_}),this.chart._invokeFilteredListener=function(t){if(void 0!==t&&"RangedFilter"!==t.filterType)return this._listeners.call("filtered",this,this,t)},this.scaleChart=new this.$dc.BarChart("#chart-".concat(this._uid,"-range")).dimension(this.$options.dimension).group(f).height(n+C).margins({left:A,top:C,right:_-10,bottom:2}).x(this.$d3.scaleLinear().domain(m)).xUnits(this.$dc.units.integers).keyAccessor((function(t){return f.ord2int(t.key)})).centerBar(!0).valueAccessor((function(t){return p(t.value)})).brushOn(!0).transitionDuration(0),this.scaleChart.filterHandler((function(){})),this.scaleChart.yAxis().ticks(0),this.scaleChart.xAxis().ticks(0),this.chart.rangeChart(this.scaleChart),this.chart.zoomScale([Math.min(8,Math.ceil(this.top/12)),Math.min(this.top,12)]),e&&this.scaleChart.elasticY(!0),h&&this.chart.mouseZoomable(this.canScroll)}},render:function(){if(this.$super(T).render(),this.canScroll){var t;this.hasReplacedRenderFunc||(this.chart._doRender=function(){return this.resetSvg(),this._preprocessData(),this._generateG(),this._generateClipPath(),this._drawChart(!0),this},this.hasReplacedRenderFunc=!0),null===(t=this.scaleChart)||void 0===t||t.render();var e=Math.floor(this.top/Math.min(8,Math.ceil(this.top/12)));this.chart.focus([-1,e])}},callOnCreate:function(){this.$emit("on-create",this.chart,this.scaleChart)}},computed:{canScroll:function(){return this.computedOptions.scrollable&&this.top>=this.computedOptions.minScrollable}}},z=function(t){t&&t("data-v-06e847cc_0",{source:".dc-chart-container.dc-scroll-bar-chart-container{position:relative;z-index:0}.dc-scroll-bar-chart-container .dc-bar-chart .axis.x .tick text{text-anchor:end;transform:rotate(-33deg) translate(-4px,-8px)}.dc-scroll-bar-chart-container .dc-scroll-bar-range .axis,.dc-scroll-bar-chart-container .dc-scroll-bar-range-filler .axis,.dc-scroll-bar-chart-container .dc-scroll-bar-range-filler.hidden,.dc-scroll-bar-chart-container .dc-scroll-bar-range.hidden{display:none}.dc-scroll-bar-chart-container .dc-scroll-bar-range{z-index:1;position:relative}.dc-scroll-bar-chart-container .dc-scroll-bar-range .custom-brush-handle{stroke:#000}.dc-scroll-bar-chart-container .dc-scroll-bar-range g.brush{fill:rgba(100,100,100,.1)}.dc-scroll-bar-chart-container .dc-scroll-bar-range svg{display:block}.dc-scroll-bar-chart-container .dc-scroll-bar-range-filler{height:12px}",map:void 0,media:void 0})},G=l.default({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dc-chart-container dc-scroll-bar-chart-container"},[t.computedOptions.scrollable?i("div",{staticStyle:{position:"relative","z-index":"0"}},[i("div",{staticClass:"dc-scroll-bar-range",class:{hidden:!t.canScroll},attrs:{id:"chart-"+t._uid+"-range"}}),t._v(" "),i("div",{staticClass:"dc-scroll-bar-range-filler",class:{hidden:t.canScroll}})]):t._e(),t._v(" "),i("div",{staticClass:"dc-chart dc-bar-chart",attrs:{id:"chart-"+t._uid}})])},staticRenderFns:[]},z,I,void 0,!1,void 0,!1,p.default,void 0,void 0),q={name:"DcChecklist",props:{chart:{type:[String,Object],required:!0},searchable:{type:Boolean,default:!0},search:{type:String,default:""},othersLimit:{type:Number},digits:{type:Number},maxHeight:{type:[String,Number],default:null},othersLabel:{type:String}},data:function(){return{groupFilter:"",groups:[],others:[],inFilter:[],waitInterval:null,waitingTimer:1}},mounted:function(){this.dcChart?this.reset():this.waitForChartInit(!0)},watch:{dcChart:function(t,e){this.reset()},search:function(){this.search!=this.groupFilter&&(this.groupFilter=this.search)}},filters:{formatFilter:function(t,e){return e||0===e?t.toFixed(e):t}},methods:{reset:function(){this.resetFilters(),this.updateListValues(),this.watchChartChanges()},resetFilters:function(){this.inFilter=Array.from(new Set(s.flat(this.dcChart.filters()))),this.groupFilter=""},updateListValues:function(){var t=this;this.groups=JSON.parse(JSON.stringify(this.dcChart.group().order((function(e){return t.valueAccessor({value:e})})).top(1/0))),this.options.slicesCap||this.othersLimit?this.others=this.groups.slice(this.options.slicesCap||this.othersLimit).map((function(t){return t.key})):this.others=[]},checkOthersFilterToggled:function(){var t=this,e=this.dcChart.filters(),i=this.othersLabel||this.options.othersLabel||"others",r=this.others.filter((function(i){return!e.includes(i)&&t.inFilter.includes(i)}));e.includes(i)&&r.length&&(e.push.apply(e,C(r)),this.inFilter=e,this.dcChart.replaceFilter([e]))},toggleFilterFor:function(t){var e=this;this.inFilter.includes(t)?this.inFilter=this.inFilter.filter((function(e){return e!==t})):this.inFilter.push(t),this.dcChart.replaceFilter([this.inFilter]),this.$nextTick((function(){return e.$dc.redrawAll()}))},updateSearch:function(){this.$emit("update:search",this.groupFilter),this.$emit("update-search",this.groupFilter)},watchChartChanges:function(){var t=this;this.dcChart.on("renderlet.checklist",(function(){t.updateListValues()})),this.dcChart.on("filtered.checklist",(function(){t.$nextTick((function(){t.checkOthersFilterToggled(),t.resetFilters(),t.updateListValues()}))}))},waitForChartInit:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.waitInterval=setInterval((function(){t.waitingTimer=(t.waitingTimer+1)%100+1,t.$nextTick((function(){t.dcChart&&(t.reset(),clearInterval(t.waitInterval),t.waitInterval=null)}))}),e?50:300)}},computed:{dcChart:function(){var t=this;return"string"==typeof this.chart&&this.waitingTimer?this.$dc.chartRegistry.list().find((function(e){return e.name===t.chart})):this.chart},shownGroups:function(){var t=this;return this.groupFilter&&this.groupFilter.length?this.groups.filter((function(e){return new RegExp(t.groupFilter,"gi").test(e.key)})):this.groups},valueAccessor:function(){return s.accessorFunc(this.options.valueAccessor||function(t){return t.value})},computedDigits:function(){return this.digits||0===this.digits?this.digits:this.options.digits},computedStyle:function(){var t=[];return this.maxHeight&&(t.push("overflow-y: auto"),"number"==typeof this.maxHeight?t.push("max-height: ".concat(this.maxHeight,"px")):t.push("max-height: ".concat(this.maxHeight))),t.join("; ")},options:function(){var t;return(null===(t=this.dcChart)||void 0===t?void 0:t.vueOptions)||{}}},beforeDestroy:function(){this.waitInterval&&clearInterval(this.waitInterval)}},V=function(t){t&&t("data-v-99604014_0",{source:".dc-check-list-container{text-align:left;width:100%}.dc-check-list-container .dc-search-input-container .dc-search-input-label{display:block;font-weight:700;font-size:.85rem;margin-bottom:-.25rem}.dc-check-list-container .dc-search-input-container .dc-search-input{border-radius:.25rem;padding:.25rem;width:calc(100% - 1.25rem);border-color:#000}.dc-check-list-container .dc-checkbox-container .dc-checkbox{display:flex;align-items:center;cursor:pointer}.dc-check-list-container .dc-checkbox-container .dc-checkbox:nth-child(2n){background-color:#f5f5f5}.dc-check-list-container .dc-checkbox-container .dc-checkbox .dc-option-box{display:inline-block;width:1rem;height:1rem;border-radius:.25rem;margin:.25rem;border:2px solid #000}.dc-check-list-container .dc-checkbox-container .dc-checkbox .dc-option-box.selected{background-color:#388ce6}.dc-check-list-container .dc-checkbox-container .dc-checkbox:hover .dc-option-box{background-color:rgba(56,140,230,.25)}.dc-check-list-container .dc-checkbox-container .dc-checkbox:hover .dc-option-box.selected{background-color:rgba(56,140,230,.75)}",map:void 0,media:void 0})},W=l.default({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dc-check-list-container",style:t.computedStyle},[t._t("search",(function(){return[i("div",{staticClass:"dc-search-input-container"},[i("label",{staticClass:"dc-search-input-label",attrs:{for:".dc-search-input"}},[t._v("Search")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.groupFilter,expression:"groupFilter"}],staticClass:"dc-search-input",domProps:{value:t.groupFilter},on:{input:[function(e){e.target.composing||(t.groupFilter=e.target.value)},t.updateSearch]}})])]})),t._v(" "),i("div",{staticClass:"dc-checkbox-container"},t._l(t.shownGroups,(function(e){return i("div",{key:e.key,staticClass:"dc-checkbox",on:{click:function(i){return t.toggleFilterFor(e.key)}}},[t._t("option",(function(){return[i("span",{staticClass:"dc-option-box",class:{selected:t.inFilter.includes(e.key)}}),t._v(" "),i("span",{staticClass:"dc-option-label",class:{selected:t.inFilter.includes(e.key)}},[t._v("\n          "+t._s(e.key)+" ("+t._s(t._f("formatFilter")(e.value,t.computedDigits))+")\n        ")])]}),{option:e,value:t.inFilter.includes(e.key)})],2)})),0)],2)},staticRenderFns:[]},V,q,void 0,!1,void 0,!1,p.default,void 0,void 0),U={name:"DcCompositeLineChart",mixins:[T,M,P,S,H],defaultOptions:{elastic:!0,showLegend:!0,legendOptions:{x:50}},props:{groups:{type:Array,required:!0}},data:function(){return{groupCharts:[]}},methods:{createChart:function(){var t,e=this;this.$options.dimension=this.createDimension();var i=this.createGroup(this.$options.dimension),r=this.computedOptions,n=r.elastic,s=r.keyAccessor,o=r.renderArea;if(this.chart=new this.$dc.CompositeChart("#chart-".concat(this._uid)).dimension(this.$options.dimension),this.$super(T).createChart(),this.applyAxisOptions(),n&&this.chart.elasticY(!0),null===(t=this.computedAxisOptions.x)||void 0===t||!t.x){var a=D(this.computedOptions.keyAccessor||function(t){return t.key}),c=a(this.$options.dimension.top(1)[0]),h=a(this.$options.dimension.bottom(1)[0]);this.chart.x(this.$d3.scaleLinear().domain([h,c]))}this.groupCharts=this.groups.map((function(t){var r=new e.$dc.LineChart(e.chart).group(i,t.name).valueAccessor(D(t.valueAccessor||function(t){return t.value})).keyAccessor(D(s||function(t){return t.key}));return(o||t.renderArea)&&r.renderArea(!0),t.color&&r.colors(t.color),r})),this.chart.compose(this.groupCharts),this.applyLegendOptions()},callOnCreate:function(){this.$emit("on-create",this.chart,this.groupCharts)}}},K=l.default({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container dc-composite-line-container"},[e("div",{staticClass:"dc-chart dc-composite-line-chart",attrs:{id:"chart-"+this._uid}})])},staticRenderFns:[]},void 0,U,void 0,!1,void 0,!1,void 0,void 0,void 0),Y={name:"DcDateChart",mixins:[T,M,P,S],defaultOptions:{elastic:!0,renderArea:!0,limitTicksToNumDays:!0,useD3TimeDay:!0,snapDateCalculation:!0,useUtcSnapping:!1},methods:{getDateBounds:function(){var t=D(this.computedOptions.keyAccessor||function(t){return t.date}),e=new Date(t(this.$options.dimension.top(1)[0])),i=new Date(t(this.$options.dimension.bottom(1)[0])),r=this.computedOptions,n=r.snapDateCalculation,s=r.useUtcSnapping;return n&&(s?(e.setUTCHours(0,0,0,0),i.setUTCHours(23,59,59,999)):(e.setHours(0,0,0,0),i.setHours(23,59,59,999))),{top:e,bottom:i,days:Math.ceil(Math.abs(this.daysDifference(e,i)))}},daysDifference:function(t,e){return t&&e&&t.getTime&&e.getTime?(e.getTime()-t.getTime())/1e3/60/60/24:null},createDimension:function(){var t=this,e=this.computedOptions.useD3TimeDay,i=function(e){return t.$d3.timeDay(new Date(e))},r=e?function(e){return i(t.$dc.pluck("date")(e))}:dc.pluck("date");return"string"==typeof this.dimensionConstructor?r=e?function(e){return i(t.$dc.pluck(t.dimensionConstructor)(e))}:dc.pluck(this.dimensionConstructor):"function"==typeof this.dimensionConstructor&&(r=this.dimensionConstructor),this.ndx.dimension(r,this.dimensionIsArray)},createChart:function(){var t=this.computedOptions,e=t.elastic,i=t.renderArea;this.$options.dimension=this.createDimension();var r=this.createGroup(this.$options.dimension),n=this.getDateBounds(),s=n.top,o=n.bottom,a=n.days;if(this.chart=new this.$dc.LineChart("#chart-".concat(this._uid)).dimension(this.$options.dimension).group(r).x(this.$d3.scaleTime().domain([o,s])),this.$super(T).createChart(),this.applyAxisOptions(),e&&this.chart.elasticY(!0),i&&this.chart.renderArea(!0),this.computedOptions.limitTicksToNumDays){var c,h=(null===(c=this.computedAxisOptions.x)||void 0===c?void 0:c.ticks)||10;this.chart.xAxis().ticks(Math.min(h,a))}}}},Z=l.default({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container dc-date-chart-container"},[e("div",{staticClass:"dc-chart dc-date-chart",attrs:{id:"chart-"+this._uid}})])},staticRenderFns:[]},void 0,Y,void 0,!1,void 0,!1,void 0,void 0,void 0),J={name:"DcNumberDisplay",mixins:[o.BaseChartMixin,o.GroupMixin],methods:{createChart:function(){var t=this,e=this.createGroup(this.ndx,!0);this.chart=new this.$dc.NumberDisplay("#chart-".concat(this._uid)).group(e),this.chart.anchorName=function(){return"#chart-".concat(t._uid)},this.$super(o.BaseChartMixin).createChart();var i=this.computedOptions,r=i.html,n=i.singular,s=i.plural,a=i.formatNumber,c=i.valueAccessor,h=e.value();if(this.chart.valueAccessor((function(t,e){return D(c||function(t){return t})(t,e,h)})),r?this.chart.html(r):n&&(s=s||n+"s",this.chart.html({one:"%number ".concat(n),some:"%number ".concat(s),none:"%number ".concat(s)})),a){var u="string"==typeof a?this.$d3.format(a):a;this.chart.formatNumber(u)}}}},X=function(t){t&&t("data-v-94c28222_0",{source:"span.dc-number-display{font-weight:700;font-size:1.25rem}",map:void 0,media:void 0})},Q=l.default({render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"dc-number-display",attrs:{id:"chart-"+this._uid}})},staticRenderFns:[]},X,J,void 0,!1,void 0,!1,p.default,void 0,void 0),tt={name:"DcPieChart",mixins:[T,M,P],defaultOptions:{minRadius:0,maxRadius:1/0,innerRadius:0,slicesCap:10,othersLabel:"others",useImprovedLabels:!0,labelWrapSeparator:";|;"},methods:{createChart:function(){var t=this;this.$options.dimension=this.createDimension();var e=this.createGroup(this.$options.dimension);this.chart=new this.$dc.PieChart("#chart-".concat(this._uid)).dimension(this.$options.dimension).group(e).externalRadiusPadding(12),this.$super(T).createChart();var i=this.getRadius();this.chart.radius(i),this.chart.width(i),this.chart.height(i);var r=this.computedOptions,n=r.innerRadius,s=r.slicesCap,o=r.othersLabel,a=r.useImprovedLabels;if(s&&this.chart.slicesCap(s),o&&this.chart.othersLabel(o),n){var c="number"==typeof n?n:i*(parseInt(n)||0)/100;this.chart.innerRadius(c)}if(a){var h=function(e){var i=t.$d3,r=t.computedOptions.labelWrapSeparator;e.each((function(){var t=i.select(this),e=t.text().split(r);if(e&&!(e.length<2)){var n=t.attr("transform"),s=parseFloat(n.slice(n.indexOf("translate(")+10,n.indexOf(","))),o=parseFloat(n.slice(n.indexOf(",")+1,n.indexOf(")")));if(Number.isNaN(s)||Number.isNaN(o))console.warn("unable to wrap text",n,s,o,n.slice(n.indexOf("translate(")+10,n.indexOf(",")));else{var a=t.text(null).append("tspan").attr("transform","translate(".concat(s,", ").concat(o,")")).attr("x",0).attr("y",0);a.text(e[0]),(a=t.append("tspan").attr("transform","translate(".concat(s,", ").concat(o,")")).attr("x",0).attr("y",14)).text("(".concat(e[1].replace(/[^0-9\-.]/g,""),")"))}}}))};this.chart.on("renderlet.vue-dcjs",(function(e){var i=t.getRadius();t.chart.radius()!==i&&(t.chart.height(i),t.chart.width(i),t.chart.redraw())})),this.chart.on("pretransition.vue-dcjs",(function(){t.chart.selectAll("text.pie-label").attr("transform",(function(e,i){var r=function(t,e){var i=e.centroid(t);return i.some((function(t){return isNaN(t)}))?[0,0]:i}(e,function(){var e=Math.min(t.chart.width(),t.chart.height())/1.8,i=Math.min(t.chart.radius(),e);return t.$d3.arc().outerRadius(i).innerRadius(t.chart.innerRadius())}(t.chart)),n=(i+1)/6+.3;return r[1]<0&&(n=1),"translate(".concat(r[0],", ").concat(r[1]*n,")")})),t.chart.selectAll(".pie-label-group text.pie-label").transition().call(h)}))}},renderChart:function(){var t=this;return new Promise((function(e){t.$super(T).renderChart().then((function(){t.$nextTick((function(){return t.computedOptions.useImprovedLabels&&t.chart.redraw(),e()}))}))}))},getRadius:function(){var t=document.querySelector("#chart-".concat(this._uid));if(!t)return 0;var e=t.clientWidth;!e&&t.parentNode&&t.parentNode.parentNode&&(e=t.parentNode.parentNode.clientWidth);var i=this.computedOptions;return j(e,i.minRadius,i.maxRadius)}}},et=function(t){t&&t("data-v-3032538c_0",{source:".dc-chart.dc-pie-chart .pie-slice:hover{fill-opacity:.8}",map:void 0,media:void 0})},it=l.default({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container"},[e("div",{staticClass:"dc-chart dc-pie-chart",attrs:{id:"chart-"+this._uid}})])},staticRenderFns:[]},et,tt,void 0,!1,void 0,!1,p.default,void 0,void 0),rt={name:"DcRowChart",mixins:[T,M,P],defaultOptions:{elastic:!0,scrollable:!0,minHeight:150,barHeight:20,axisChartheight:50,scrollHeight:"200px",scrollbarPadding:8},data:function(){return{axisChart:null}},methods:{createChart:function(){var t=this.computedOptions,e=t.elastic,i=t.scrollable,r=t.minHeight,n=t.barHeight,s=t.axisChartHeight,o=t.valueAccessor,a=t.keyAccessor;this.$options.dimension=this.createDimension();var c=this.createGroup(this.$options.dimension);this.chart=new this.$dc.RowChart("#chart-".concat(this._uid)).dimension(this.$options.dimension).group(c),this.$super(T).createChart();var h=i?Object.assign({},this.computedMargins,{bottom:-1}):this.computedMargins;if(this.chart.margins(h),e&&this.chart.elasticX(!0),i){this.chart.height(Math.max(r,c.size()*n)),this.chart.transitionDuration(1e3);var u=Object.assign({},this.computedMargins,{top:0});this.axisChart=new this.$dc.AxisChart("#chart-".concat(this._uid,"-axis")).dimension(this.$options.dimension).group(c).height(s).margins(u),o&&this.axisChart.valueAccessor(D(o)),a&&this.axisChart.keyAccessor(D(a)),e&&this.axisChart.elastic(!0)}},render:function(){var t;this.$super(T).render(),null===(t=this.axisChart)||void 0===t||t.render()},callOnCreate:function(){this.$emit("on-create",this.chart,this.axisChart)}},computed:{computedStyle:function(){var t=[];return this.computedOptions.scrollable&&(t.push("overflow-y: auto; overflow-x: hidden;"),this.computedOptions.scrollHeight&&t.push("max-height: ".concat(this.computedOptions.scrollHeight))),t.join("; ")},computedMargins:function(){var t,e,i=Object.assign({top:30,right:30,bottom:30,left:30},null===(t=this.$options.defaultOptions)||void 0===t?void 0:t.margins,null===(e=this.options)||void 0===e?void 0:e.margins),r=this.computedOptions,n=r.scrollable,s=r.scrollbarPadding;return n&&s&&(i.right+=s),i}}},nt=l.default({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container dc-row-chart-container"},[e("div",{staticClass:"dc-chart dc-row-chart",style:this.computedStyle,attrs:{id:"chart-"+this._uid}}),this._v(" "),this.computedOptions.scrollable?e("div",{staticClass:"dc-chart dc-axis-chart dc-row-axis-chart",attrs:{id:"chart-"+this._uid+"-axis"}}):this._e()])},staticRenderFns:[]},void 0,rt,void 0,!1,void 0,!1,void 0,void 0,void 0),st={name:"DcStackedBarChart",mixins:[T,M,P,S,H],defaultOptions:{elastic:!0,showLegend:!0,legendOptions:{x:50}},props:{groups:{type:Array,required:!0},stacks:{type:Array,required:!0},colors:{type:Array},keySeparator:{type:String,default:";|;"},groupAccessor:{type:[String,Function]},stackAccessor:{type:[String,Function]},validateFunction:{type:Function}},methods:{stackKey:function(t){return"string"==typeof t?t:t.key||t.name||t},stackName:function(t){return"string"==typeof t?t:t.name||t.key||t},computedValidateFunction:function(t,e,i){if(this.validateFunction||this.computedOptions.validateFunction)return this.validateFunction(t,e,i);var r=this.stackKey(e);return this.stackAccessorFunc(t)===r&&this.groupAccessorFunc(t)===i},createChart:function(){var t,e=this;this.$options.dimension=this.ndx.dimension((function(t){return t}));var i=this.stackReducer,r=i.add,n=i.remove,s=i.init,o=this.stackedGroup(this.$options.dimension.groupAll().reduce(r,n,s)),a=this.computedOptions,c=a.elastic,h=a.title,u=a.barPadding,d=a.barGap,l=a.outerBarPadding;this.chart=new this.$dc.BarChart("#chart-".concat(this._uid)).dimension(this.$options.dimension),this.$super(T).createChart(),this.applyAxisOptions(),null!==(t=this.computedAxisOptions.x)&&void 0!==t&&t.x||(this.chart.x(this.$d3.scaleBand().domain(this.groups)),this.chart.xUnits(this.$dc.units.ordinal));var p=o.all().length||1;if(this.chart.barPadding(j(2/p,.1,.75)),void 0!==u?this.chart.barPadding(u):void 0!==d&&this.chart.gap(d),void 0!==l&&this.chart.outerPadding(l),c&&this.chart.elasticY(!0),this.computedColors.length){var f=this.$d3.scaleOrdinal().domain(this.stacks).range(this.stacks.map((function(t,i){return e.computedColors[i%e.computedColors.length]})));this.chart.colors(f)}this.chart.title(D(h||function(t){return"".concat(this.layer," ").concat(t.key,": ").concat(t.value[this.layer])}));var m=this.keySeparator||";|;",v=this.$dc;this.chart.on("pretransition.vue-dcjs",(function(t){t.selectAll("rect.bar").classed("deselected",!1).classed("stack-deselected",(function(e){var i=e.layer+m+e.x;return t.filter()&&!t.filters().some((function(t){return t[0]===i}))})).on("click.vue-dcjs",(function(e,i){t.filter([i.layer+m+i.x]),v.redrawAll()}))})),this.stacks.forEach((function(t,i){var r=e.stackKey(t),n=i?"stack":"group";e.chart[n](o,r,(function(t){return t.value[r]}))})),this.chart.legendables=function(){var t=e.chart;return e.stacks.map((function(i){var r=e.stackName(i),n=e.stackKey(i),s=e.chart.colors()(n);return{chart:t,name:r,color:s}}))},this.applyLegendOptions(),this.chart.filterHandler((function(t,i){return i&&i.length?t.filterFunction((function(t){return i.some((function(i){var r=k(i[0].split(e.keySeparator||";|;"),2),n=r[0],s=r[1];return e.computedValidateFunction(t,n,s)}))})):t.filter(null),i}))},stackedGroup:function(t){var e=this.keySeparator;return{all:function(){var i=Object.entries(t.value()).map((function(t){var e=k(t,2);return{key:e[0],value:e[1]}})),r={};return i.forEach((function(t){var i=k(t.key.split(e),2),n=i[0],s=i[1];r[n]=r[n]||{},r[n][s]=t.value})),Object.keys(r).map((function(t){return{key:t,value:r[t]}}))}}}},computed:{computedColors:function(){var t=this,e=this.colors||[];return this.stacks&&this.stacks.length&&this.stacks.every((function(t){return t.color}))&&(e=this.stacks.map((function(t){return t.color}))),!e.length&&this.stacks&&this.stacks.length&&(e=this.stacks.map((function(e,i){return t.$d3.interpolateTurbo((i+.5)/t.stacks.length)}))),e},stackReducer:function(){var t=this;return{add:function(e,i){return t.groups.forEach((function(r){t.stacks.forEach((function(n){var s=t.stackKey(n);t.computedValidateFunction(i,n,r)&&(e["".concat(r).concat(t.keySeparator).concat(s)]+=D(t.computedOptions.valueAccessor||function(t){return t.value})(i)||0)}))})),e},remove:function(e,i){return t.groups.forEach((function(r){t.stacks.forEach((function(n){var s=t.stackKey(n);t.computedValidateFunction(i,n,r)&&(e["".concat(r).concat(t.keySeparator).concat(s)]-=D(t.computedOptions.valueAccessor||function(t){return t.value})(i)||0)}))})),e},init:function(){var e={};return t.groups.forEach((function(i){t.stacks.forEach((function(r){var n=t.stackKey(r);e["".concat(i).concat(t.keySeparator).concat(n)]=0}))})),e}}},stackAccessorFunc:function(){return D(this.stackAccessor||this.computedOptions.stackAccessor||function(t){return t.stack})},groupAccessorFunc:function(){return D(this.groupAccessor||this.computedOptions.groupAccessor||function(t){return t.group})}}},ot=function(t){t&&t("data-v-425af608_0",{source:".dc-stacked-bar-chart rect.bar.stack-deselected{opacity:.2}",map:void 0,media:void 0})},at=l.default({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container dc-stacked-bar-container"},[e("div",{staticClass:"dc-chart dc-stacked-bar-chart",attrs:{id:"chart-"+this._uid}})])},staticRenderFns:[]},ot,st,void 0,!1,void 0,!1,p.default,void 0,void 0),ct={registerComponents:!0},ht={install:function(t,e){var i=Object.assign({},ct,i);t.prototype.$super=function(t){var e=this;return new Proxy(t,{get:function(t,i){if(t.methods&&i in t.methods)return t.methods[i].bind(e)}})},t.use(w,i),i.registerComponents&&(t.component("dc-bar-chart",G),t.component("dc-checklist",W),t.component("dc-composite-line-chart",K),t.component("dc-date-chart",Z),t.component("dc-number-display",Q),t.component("dc-pie-chart",it),t.component("dc-row-chart",nt),t.component("dc-stacked-bar-chart",at))}};exports.dc=h,exports.d3=u,Object.defineProperty(exports,"crossfilter",{enumerable:!0,get:function(){return d.default}}),exports.DcBarChart=G,exports.DcChecklist=W,exports.DcCompositeLineChart=K,exports.DcDateChart=Z,exports.DcNumberDisplay=Q,exports.DcPieChart=it,exports.DcRowChart=nt,exports.DcStackedBarChart=at,exports.VueDc=ht;
//# sourceMappingURL=index.js.map
