/*!
 * vue-dcjs v0.1.25
 * (c) 
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("dc"),e=require("d3"),i=require("crossfilter2");function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var a=r(t),o=r(e),n=s(i);function c(t,e,i){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class h extends(t.CapMixin(t.ColorMixin(t.MarginMixin))){calculateAxisScale(){if(!this._scale||this._elastic){var t=e.extent(this._axisData,(t,e)=>this.cappedValueAccessor(t,e));t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0),this._scale=e.scaleLinear().domain(t).range([0,"axisBottom"===this._type||"axisTop"===this._type?this.effectiveWidth():this.effectiveHeight()])}this._theAxis.scale(this._scale)}drawAxis(){var e=this._g.select("g.axis");this.calculateAxisScale(),e.empty()&&(e=this._g.append("g").attr("class","axis")),t.transition(e,this.transitionDuration(),this.transitionDelay()).call(this._theAxis)}_doRender(){return this.resetSvg(),this._g=this.svg().append("g").attr("transform",`translate(${this.margins().left}, ${this.margins().top})`),this.drawChart(),this}type(t){if(!arguments.length)return this._type;if(-1!==this.validAxisTypes.indexOf(t)){const i={axisBottom:e.axisBottom,axisTop:e.axisTop,axisRight:e.axisRight,axisLeft:e.axisLeft}[t];this._theAxis=i(),this._type=t}else console.error(t+" is not a valid d3 axis type");return this}scale(t){return arguments.length?(this._scale=t,this):this._scale}elastic(t){return arguments.length?(this._elastic=t,this):this._elastic}axis(){return this._theAxis}drawChart(){this._axisData=this.data(),this.drawAxis()}_doRedraw(){return this.drawChart(),this}constructor(t,i){super(t,i),c(this,"_g",void 0),c(this,"_scale",void 0),c(this,"_elastic",void 0),c(this,"_type","axisBottom"),c(this,"_theAxis",e.axisBottom()),c(this,"_axisData",void 0),c(this,"validAxisTypes",["axisBottom","axisTop","axisLeft","axisRight"]),c(this,"axisCap",void 0),this._minHeight=0,this._defaultHeightCalc=()=>24,this.anchor(t,i)}}require("dc/dist/style/dc.min.css");Object.assign(a,{AxisChart:h,renderAllNoTransitions:()=>{a.chartRegistry.list().forEach(t=>{let e=t.transitionDuration();t.transitionDuration(0),t.vueRender?t.vueRender():t.render(),t.transitionDuration(e)})}});const l={useWindowResize:!0,resizeTimeout:100,useResetListener:!0,resetSelector:t=>{var e,i;return(null===(e=document.querySelector(t.anchor()))||void 0===e||null===(i=e.closest(".example-container"))||void 0===i?void 0:i.querySelectorAll(".example-reset-button"))||[]},titleRoundDigits:-1};let d=Object.assign({},l);const u={install(t,e){const i=Object.assign({},l,e);if((t=>{d=t})(i),null!=i&&i.defaultColors&&a.config.defaultColors(i.defaultColors),t.prototype.$dc=a,t.prototype.$d3=o,t.prototype.$crossfilter=n.default,i.useWindowResize){let t=null,e=window.innerWidth;window.addEventListener("resize",()=>{t&&clearTimeout(t),e!==window.innerWidth&&(t=setTimeout(()=>{a.renderAllNoTransitions(),t=null,e=window.innerWidth},i.resizeTimeout))})}}};var p={name:"AxisMixin",props:{axisOptions:{type:Object}},data:()=>({autoTickHandler:null}),methods:{applyAxisOptions(){var t,e,i,s;let r=this.computedAxisOptions.x,a=this.computedAxisOptions.y;if(!this.chart||!r&&!a)return;const o=null===(t=(e=this.chart).xAxis)||void 0===t?void 0:t.call(e),n=null===(i=(s=this.chart).yAxis)||void 0===i?void 0:i.call(s),c=(t,e)=>{(e||0===e)&&t.ticks(e)},h=(t,e)=>{"string"==typeof e?t.tickFormat(this.$d3.format(e)):"number"==typeof e?t.tickFormat=this.$d3.format(`,.${e}f`):"function"==typeof e&&t.tickFormat(e)},l=(t,e)=>{e&&Array.isArray(e)&&t.tickValues(e)},d=(t,e)=>{(e||0===e)&&t.tickSize(e)};r&&o&&(c(o,r.ticks),h(o,r.format),l(o,r.values),d(o,r.size),r.tilt&&this.$d3.select(this.chart.anchor()).classed("tilted-x-axis",!0),r.x&&"function"==typeof this.chart.x&&this.chart.x(r.x(this.$options.dimension))),a&&n&&(c(n,a.ticks),h(n,a.format),l(n,a.values),d(n,a.size),a.y&&"function"==typeof this.chart.y&&this.chart.y(a.y(this.$options.dimension))),n&&this.computedAxisOptions.autoTicks&&this.ndx&&this.ndx.onChange(t=>{if("filtered"===t){var e,i,s,r;const t=Math.max((null==a?void 0:a.ticks)||0,10),o=null===(e=this.chart)||void 0===e?void 0:e.valueAccessor(),c=null===(i=this.chart)||void 0===i?void 0:i.group(),h=null==c||null===(s=c.top)||void 0===s||null===(r=s.call(c,1))||void 0===r?void 0:r[0];let l=t;try{l=Math.ceil(o(h))}catch{l=t}const d=Math.min(t,Math.max(1,l));n.ticks(d)}})}},computed:{computedAxisOptions(){var t,e,i,s,r,a;return{x:Object.assign({},null===(t=this.computedOptions)||void 0===t?void 0:t.xAxis,null===(e=this.axisOptions)||void 0===e?void 0:e.x),y:Object.assign({},null===(i=this.computedOptions)||void 0===i?void 0:i.yAxis,null===(s=this.axisOptions)||void 0===s?void 0:s.y),autoTicks:(null===(r=this.computedOptions)||void 0===r?void 0:r.autoTicks)||(null===(a=this.axisOptions)||void 0===a?void 0:a.autoTicks)||!1}}},beforeDestroy(){this.autoTickHandler&&this.autoTickHandler()}};function m(t,e,i,s,r,a,o,n,c,h){"boolean"!=typeof o&&(c=n,n=o,o=!1);const l="function"==typeof i?i.options:i;let d;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),s&&(l._scopeId=s),a?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=d):e&&(d=o?function(t){e.call(this,h(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,n(t))}),d)if(l.functional){const t=l.render;l.render=function(e,i){return d.call(i),t(e,i)}}else{const t=l.beforeCreate;l.beforeCreate=t?[].concat(t,d):[d]}return i}const g="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function v(t){return(t,e)=>function(t,e){const i=g?e.media||"default":t,s=y[i]||(y[i]={ids:new Set,styles:[]});if(!s.ids.has(t)){s.ids.add(t);let i=e.source;if(e.map&&(i+="\n/*# sourceURL="+e.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),s.element||(s.element=document.createElement("style"),s.element.type="text/css",e.media&&s.element.setAttribute("media",e.media),void 0===f&&(f=document.head||document.getElementsByTagName("head")[0]),f.appendChild(s.element)),"styleSheet"in s.element)s.styles.push(i),s.element.styleSheet.cssText=s.styles.filter(Boolean).join("\n");else{const t=s.ids.size-1,e=document.createTextNode(i),r=s.element.childNodes;r[t]&&s.element.removeChild(r[t]),r.length?s.element.insertBefore(e,r[t]):s.element.appendChild(e)}}}(t,e)}let f;const y={};const x=m({},(function(t){t&&t("data-v-084e5c0b_0",{source:".dc-chart.tilted-x-axis .axis.x .tick text{text-anchor:end;transform:rotate(-33deg) translate(-4px,-2px)}",map:void 0,media:void 0})}),p,void 0,void 0,void 0,!1,v,void 0,void 0);function b(t){return"function"==typeof t?t:e=>e[t]}function k(t,e=-1/0,i=1/0){return Math.max(e,Math.min(t,i))}const C=m({},(function(t){t&&t("data-v-4fcca45b_0",{source:".dc-reset-is-hidden{display:none!important}",map:void 0,media:void 0})}),{name:"BaseChartMixin",dimension:null,props:{ndx:{type:Object,required:!0},name:{type:String},options:{type:Object}},baseDefaultOptions:{disposeDimension:!0,render:!0},data:()=>({chart:null,resetButtonFunction:null,resetButtons:[]}),mounted(){this.drawChart()},methods:{reset(){this.chart&&this.chart.filter(null)},async drawChart(){await this.createChart(),this.addChartExtras(),this.callOnCreate(),this.computedOptions.onFilter&&this.chart.on("filtered",this.computedOptions.onFilter),this.computedOptions.onClick&&this.chart.on("click",this.computedOptions.onClick),d.useResetListener&&"function"==typeof d.resetSelector&&this.setupResetListener(),this.computedOptions.render&&this.renderChart()},createChart(){const{valueAccessor:t,margins:e,keyAccessor:i,title:s,label:r,height:a,width:o,digits:n,titleSuffix:c}=this.computedOptions,h=n||0===n?n:d.titleRoundDigits;this.chart.title(b(s||function(e){var s;const r=i?b(i)(e):e.key;let a=t?b(t)(e):e.value;null!==(s=a)&&void 0!==s&&s.toFixed&&h>=0&&(a=a.toFixed(h));let o=`${r}: ${a}`;return c&&(o+=c),o})),t&&this.chart.valueAccessor(b(t)),e&&this.chart.margins&&this.chart.margins(this.computedMargins),i&&this.chart.keyAccessor(b(i)),s&&this.chart.title(b(s)),r&&this.chart.label(b(r)),a&&this.chart.height(a),o&&this.chart.width(o),this.chart.vueRender=()=>this.render()},onResetButtonClick(){},renderChart(){return new Promise(t=>{this.$emit("pre-render",this.chart),this.$nextTick(()=>{this.render(),this.$nextTick(()=>(this.$emit("post-render",this.chart),t(this.chart)))})})},render(){this.chart.render()},addChartExtras(){(this.name||this.computedOptions.name)&&(this.chart.name=this.name||this.computedOptions.name),this.chart.vueOptions=this.computedOptions},callOnCreate(){var t,e;null===(t=this.computedOptions)||void 0===t||null===(e=t.onCreate)||void 0===e||e.call(t,this.chart),this.$emit("create",this.chart)},setupResetListener(){var t;let e=null!==(t=this.chart)&&void 0!==t&&t.children?[this.chart,...this.chart.children()]:[this.chart];try{const{resetSelector:t}=d;this.resetButtons=e.reduce((e,i)=>{let s=t(i);return"function"!=typeof s.forEach?e.push(s):s.forEach(t=>{e.push(t)}),e},[]),this.resetButtonFunction=()=>{e.forEach(t=>{t.filterAll()}),this.$dc.redrawAll()},this.resetButtons.forEach(t=>{t.addEventListener("click",this.resetButtonFunction)});const i=()=>{let t=e.some(t=>t.hasFilter());this.resetButtons.forEach(e=>{t?e.classList.remove("dc-reset-is-hidden"):e.classList.add("dc-reset-is-hidden")})};e.forEach(t=>{t.on("filtered.reset",i)}),i()}catch(t){console.error("Could not attach reset listener using resetSelector",t)}}},computed:{computedMargins(){if("number"==typeof this.computedOptions.margins){let t=this.computedOptions.margins;return{top:t,left:t,right:t,bottom:t}}var t,e;return Object.assign({top:30,right:30,bottom:30,left:30},null===(t=this.$options.defaultOptions)||void 0===t?void 0:t.margins,null===(e=this.options)||void 0===e?void 0:e.margins)},computedOptions(){return Object.assign({},this.$options.baseDefaultOptions,this.$options.defaultOptions,this.options)}},beforeDestroy(){if(this.chart){const t=this.chart.dimension();t&&t.filterAll(),this.$dc.chartRegistry.deregister(this.chart)}this.computedOptions.disposeDimension&&this.$options.dimension&&this.$options.dimension.dispose()}},void 0,void 0,void 0,!1,v,void 0,void 0);const O=m({},void 0,{name:"DimensionMixin",props:{dimensionConstructor:{type:[String,Function]},dimensionIsArray:{type:Boolean,default:!1}},methods:{createDimension(){let t=t=>t;return"string"==typeof this.dimensionConstructor?t=this.$dc.pluck(this.dimensionConstructor):"function"==typeof this.dimensionConstructor&&(t=this.dimensionConstructor),this.ndx.dimension(t,this.dimensionIsArray)}}},void 0,void 0,void 0,!1,void 0,void 0,void 0);const $=m({},void 0,{name:"GroupMixin",props:{reducer:{type:[String,Function,Object]},groupOptions:{type:Object}},methods:{createGroup(t,e=!1){let i=e?t.groupAll():t.group();if(this.groupOptions&&this.groupOptions.order?"string"==typeof this.groupOptions.order?i.order(t=>t[this.groupOptions.order]):"function"==typeof this.groupOptions.order&&i.order(this.groupOptions.order):this.groupOptions&&this.groupOptions.orderNatural&&i.orderNatural(),"string"==typeof this.reducer||"function"==typeof this.reducer)i.reduceSum(b(this.reducer));else if(this.reducer.add&&this.reducer.remove&&this.reducer.init){let{add:t,remove:e,init:s}=this.reducer;i.reduce(t,e,s)}return new Promise((t,e)=>{let s=setTimeout(()=>t(i));this.$emit("group-created",i,e=>(clearTimeout(s),t(e)))})},ordinalToLinear(t,e,i=!1){var s,r;return{top:function(s=1){return i?Object.entries(t.value()).map(([t,e])=>({key:t,value:e})).sort((t,i)=>e(i.value)-e(t.value)).slice(0,s):t.order(t=>e(t)).top(s)},all:function(){var a=[];return a=i?Object.entries(t.value()).map(([t,e])=>({key:t,value:e})).sort((t,i)=>e(i.value)-e(t.value)):t.order(t=>e(t)).top(1/0),s={},r=[],a.forEach((function(t,e){s[t.key]=e,r[e]=t.key})),a},ord2int:function(t){return s||this.all(),s[t]},int2ord:function(t){return r||this.all(),r[t]},order:function(e){if(i){const i=Object.entries(t.value()).map(([t,e])=>({key:t,value:e})).sort((t,i)=>e(i.value)-e(t.value));return i.top=t=>i.slice(0,t),i.all=()=>i,i}return t.order(e)}}}}},void 0,void 0,void 0,!1,void 0,void 0,void 0);const _=m({},void 0,{name:"LegendMixin",props:{legend:{type:Boolean},legendOptions:{type:Object}},methods:{applyLegendOptions(){if(this.computedOptions.showLegend||this.computedOptions.legend||this.legend){let t=this.$dc.legend(),{autoWidth:e,gap:i,highlightSelected:s,horizontal:r,itemHeight:a,itemWidth:o,keyboardAccessible:n,legendText:c,legendWidth:h,maxItems:l,x:d,y:u}=this.computedLegendOptions;void 0!==e?t.autoItemWidth(e):void 0!==o&&t.itemWidth(o),void 0!==i&&t.gap(i),void 0!==s&&t.highlightSelected(s),void 0!==r&&t.horizontal(r),void 0!==a&&t.itemHeight(a),void 0!==n&&t.keyboardAccessible(n),void 0!==c&&t.legendText(c),void 0!==h&&t.legendWidth(h),void 0!==l&&t.maxItems(l),void 0!==d&&t.x(d),void 0!==u&&t.y(u),this.chart.legend(t)}}},computed:{computedLegendOptions(){var t,e;return Object.assign({},null===(t=this.defaultOptions)||void 0===t?void 0:t.legendOptions,null===(e=this.options)||void 0===e?void 0:e.legendOptions,this.legendOptions)}}},void 0,void 0,void 0,!1,void 0,void 0,void 0);const A=m({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dc-chart-container dc-scroll-bar-chart-container"},[t.computedOptions.scrollable?i("div",{staticStyle:{position:"relative","z-index":"0"}},[i("div",{staticClass:"dc-scroll-bar-range",class:{hidden:!t.canScroll},attrs:{id:"chart-"+t._uid+"-range"}}),t._v(" "),i("div",{staticClass:"dc-scroll-bar-range-filler",class:{hidden:t.canScroll}})]):t._e(),t._v(" "),i("div",{staticClass:"dc-chart dc-bar-chart",attrs:{id:"chart-"+t._uid}})])},staticRenderFns:[]},(function(t){t&&t("data-v-4a622f52_0",{source:".dc-chart-container.dc-scroll-bar-chart-container{position:relative;z-index:0}.dc-scroll-bar-chart-container .dc-scroll-bar-range .axis,.dc-scroll-bar-chart-container .dc-scroll-bar-range-filler .axis,.dc-scroll-bar-chart-container .dc-scroll-bar-range-filler.hidden,.dc-scroll-bar-chart-container .dc-scroll-bar-range.hidden{display:none}.dc-scroll-bar-chart-container .dc-scroll-bar-range{z-index:1;position:relative}.dc-scroll-bar-chart-container .dc-scroll-bar-range .custom-brush-handle{cursor:ew-resize;stroke:#000}.dc-scroll-bar-chart-container .dc-scroll-bar-range g.brush{fill:rgba(100,100,100,.1)}.dc-scroll-bar-chart-container .dc-scroll-bar-range svg{display:block}.dc-scroll-bar-chart-container .dc-scroll-bar-range-filler{height:12px}",map:void 0,media:void 0})}),{name:"DcBarChart",mixins:[C,O,$,x],defaultOptions:{elastic:!0,scrollable:!1,minScrollable:12,scrollHeight:12,mouseZoom:!0},data:()=>({scaleChart:null,top:0,hasReplacedRenderFunc:!1}),methods:{async createChart(){var t;this.hasReplacedRenderFunc=!1;let{elastic:e,minScrollable:i,scrollHeight:s,groupAll:r,valueAccessor:a,title:o,titleSuffix:n,filterFunction:c,mouseZoom:h,barPadding:l,barGap:u,outerBarPadding:p,digits:m}=this.computedOptions;this.$options.dimension=this.createDimension();let g=b(a||(t=>t));const v=this.ordinalToLinear(await this.createGroup(this.$options.dimension,r),g,r);this.top=v.all().length;const f=[-.52,this.top-.5];let y=this.top?document.querySelector("#chart-"+this._uid).clientWidth/i/this.top:0;y=Math.max(Math.ceil(y),1),this.chart=new this.$dc.BarChart("#chart-"+this._uid).dimension(this.$options.dimension).group(v).x(this.$d3.scaleLinear().domain(f)).xUnits(this.$dc.units.integers).centerBar(!0).brushOn(!1).gap(y),this.$super(C).createChart(),this.applyAxisOptions(),this.chart.keyAccessor(t=>v.ord2int(t.key)),this.chart.valueAccessor(t=>g(t.value)),this.chart.transitionDuration(this.canScroll?50:250);const x=m||0===m?m:d.titleRoundDigits;this.chart.title(b(o||function(t){var e;const i=t.key;let s=a?b(a)(t.value):t.value;null!==(e=s)&&void 0!==e&&e.toFixed&&x>=0&&(s=s.toFixed(x));let r=`${i}: ${s}`;return n&&(r+=n),r})),e&&this.chart.elasticY(!0);let k=b((null===(t=this.computedAxisOptions.x)||void 0===t?void 0:t.format)||(t=>t));if(this.chart.xAxis().tickFormat(t=>k(v.int2ord(t))).ticks(this.top),this.top<=i/4){const t=this.top||1;this.chart.barPadding(i/2/t)}let O=[];this.chart.filterHandler((function(t,e){})),this.chart.hasFilter=function(t){return Array.isArray(t)?t.every(t=>O.includes(t)):t?O.includes(t):O.length},this.chart.applyFilter=function(){O.length?this.dimension().filterFunction((function(t){return c?c(O,t):O.includes(t)})):this.dimension().filter(null),this._listeners.call("filtered",this,this,O)},this.chart.filterAll=function(){O=[],this.applyFilter()},this.chart.filters=()=>[...O],this.chart._originalReplaceFilter=this.chart.replaceFilter,this.chart.replaceFilter=function(t){return t.every(t=>Array.isArray(t))?(O=[],t.forEach(t=>{O.push(...t)}),this.applyFilter(),this):this._originalReplaceFilter(t)};const $=this.$dc,_=this.$d3;if(this.chart.fadeDeselectedArea=function(t){let e=this.chartBodyG().selectAll("rect.bar");O.length?(e.classed($.constants.SELECTED_CLASS,(function(t){return O.includes(t.data.key)})),e.classed($.constants.DESELECTED_CLASS,(function(t){return!O.includes(t.data.key)}))):(e.classed($.constants.SELECTED_CLASS,!1),e.classed($.constants.DESELECTED_CLASS,!1))},this.chart.on("pretransition.vue-dcjs",(function(t){t.selectAll("rect.bar").on("click.ordinal-select",(function(e,i){var s=O.indexOf(i.data.key);s>=0?O.splice(s,1):O.push(i.data.key),t.applyFilter(),t.redrawGroup()}))})),this.chart.on("preRedraw.vue-dcjs",(function(t){const e=t.x().domain(),i=Math.ceil(e[0]),s=Math.floor(e[1]);t.xAxis().tickValues(_.range(i,s+1)),t.rescale()})),void 0!==l?this.chart.barPadding(l):void 0!==u&&this.chart.gap(u),void 0!==p&&this.chart.outerPadding(p),this.canScroll){let{top:t,bottom:i,left:r,right:a}=this.computedMargins;this.chart.margins({top:0,bottom:i,left:r,right:a}),this.chart._invokeFilteredListener=function(t){if(void 0!==t&&"RangedFilter"!==t.filterType)return this._listeners.call("filtered",this,this,t)},this.scaleChart=new this.$dc.BarChart(`#chart-${this._uid}-range`).dimension(this.$options.dimension).group(v).height(s+t).margins({left:r,top:t,right:a,bottom:2}).x(this.$d3.scaleLinear().domain(f)).xUnits(this.$dc.units.integers).keyAccessor(t=>v.ord2int(t.key)).centerBar(!0).valueAccessor(t=>g(t.value)).brushOn(!0).transitionDuration(0).gap(1),this.scaleChart.filterHandler((function(){})),this.scaleChart.yAxis().ticks(0),this.scaleChart.xAxis().ticks(0),this.chart.rangeChart(this.scaleChart),this.chart.zoomScale([Math.min(8,Math.ceil(this.top/12)),Math.min(this.top,12)]),e&&this.scaleChart.elasticY(!0),h&&this.chart.mouseZoomable(this.canScroll)}},render(){if(this.$super(C).render(),this.canScroll){var t;this.hasReplacedRenderFunc||(this.chart._doRender=function(){return this.resetSvg(),this._preprocessData(),this._generateG(),this._generateClipPath(),this._drawChart(!0),this},this.hasReplacedRenderFunc=!0),null===(t=this.scaleChart)||void 0===t||t.render();const e=Math.min(12,Math.floor(this.top/Math.min(8,Math.ceil(this.top/12))));this.chart.focus([-1,e])}},callOnCreate(){var t,e;null===(t=this.computedOptions)||void 0===t||null===(e=t.onCreate)||void 0===e||e.call(t,this.chart,this.scaleChart),this.$emit("create",this.chart,this.scaleChart)}},computed:{canScroll(){return this.computedOptions.scrollable&&this.top>=this.computedOptions.minScrollable}}},void 0,!1,void 0,!1,v,void 0,void 0);const w=m({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dc-check-list-container",style:t.computedStyle},[t._t("search",(function(){return[i("div",{staticClass:"dc-search-input-container"},[i("label",{staticClass:"dc-search-input-label",attrs:{for:".dc-search-input"}},[t._v("Search")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.groupFilter,expression:"groupFilter"}],staticClass:"dc-search-input",domProps:{value:t.groupFilter},on:{input:[function(e){e.target.composing||(t.groupFilter=e.target.value)},t.updateSearch]}})])]})),t._v(" "),i("div",{staticClass:"dc-checkbox-container"},t._l(t.shownGroups,(function(e){return i("div",{key:e.key,staticClass:"dc-checkbox",on:{click:function(i){return t.toggleFilterFor(e.key)}}},[t._t("option",(function(){return[i("span",{staticClass:"dc-option-box",class:{selected:t.inFilter.includes(e.key)}}),t._v(" "),i("span",{staticClass:"dc-option-label",class:{selected:t.inFilter.includes(e.key)}},[t._v("\n          "+t._s(t.displayKey(e))+" ("+t._s(t._f("formatFilter")(e.value,t.computedDigits))+")\n        ")])]}),{option:e,value:t.inFilter.includes(e.key)})],2)})),0)],2)},staticRenderFns:[]},(function(t){t&&t("data-v-7992a837_0",{source:".dc-check-list-container{text-align:left;width:100%}.dc-check-list-container .dc-search-input-container .dc-search-input-label{display:block;font-weight:700;font-size:.85rem;margin-bottom:-.25rem}.dc-check-list-container .dc-search-input-container .dc-search-input{border-radius:.25rem;padding:.25rem;width:calc(100% - 1.25rem);border-color:#000}.dc-check-list-container .dc-checkbox-container .dc-checkbox{display:flex;align-items:center;cursor:pointer}.dc-check-list-container .dc-checkbox-container .dc-checkbox:nth-child(2n){background-color:#f5f5f5}.dc-check-list-container .dc-checkbox-container .dc-checkbox .dc-option-box{display:inline-block;width:1rem;height:1rem;border-radius:.25rem;margin:.25rem;border:2px solid #000}.dc-check-list-container .dc-checkbox-container .dc-checkbox .dc-option-box.selected{background-color:#388ce6}.dc-check-list-container .dc-checkbox-container .dc-checkbox:hover .dc-option-box{background-color:rgba(56,140,230,.25)}.dc-check-list-container .dc-checkbox-container .dc-checkbox:hover .dc-option-box.selected{background-color:rgba(56,140,230,.75)}",map:void 0,media:void 0})}),{name:"DcChecklist",props:{chart:{type:[String,Object],required:!0},searchable:{type:Boolean,default:!0},search:{type:String,default:""},othersLimit:{type:Number},digits:{type:Number},maxHeight:{type:[String,Number],default:null},othersLabel:{type:String},forceFilter:{type:Function,default:null},keyDisplay:{type:Function,default:null}},data:()=>({groupFilter:"",groups:[],others:[],inFilter:[],waitInterval:null,waitingTimer:1}),mounted(){this.dcChart?this.reset():this.waitForChartInit(!0)},watch:{dcChart(t,e){this.reset()},search(){this.search!=this.groupFilter&&(this.groupFilter=this.search)}},filters:{formatFilter:(t,e)=>e||0===e?t.toFixed(e):t},methods:{reset(){this.resetFilters(),this.updateListValues(),this.watchChartChanges()},resetFilters(){var t;this.inFilter=Array.from(new Set((t=this.dcChart.filters(),Array.isArray(t)?t.reduce((t,e)=>t.concat(e),[]):[])))},updateListValues(){let t=this.dcChart.group().order(t=>this.valueAccessor({value:t})).top(1/0);this.forceFilter&&"function"==typeof this.forceFilter&&(t=t.filter(this.forceFilter)),this.groups=JSON.parse(JSON.stringify(t)),this.options.slicesCap||this.othersLimit?this.others=this.groups.slice(this.options.slicesCap||this.othersLimit).map(t=>t.key):this.others=[]},checkOthersFilterToggled(){let t=this.dcChart.filters(),e=this.othersLabel||this.options.othersLabel||"others";const i=this.others.filter(e=>!t.includes(e)&&this.inFilter.includes(e));t.includes(e)&&i.length&&(t.push(...i),this.inFilter=t,this.dcChart.replaceFilter([t]))},toggleFilterFor(t){this.inFilter.includes(t)?this.inFilter=this.inFilter.filter(e=>e!==t):this.inFilter.push(t),this.dcChart.replaceFilter([this.inFilter]),this.$nextTick(()=>this.$dc.redrawAll())},updateSearch(){this.$emit("update:search",this.groupFilter),this.$emit("update-search",this.groupFilter)},watchChartChanges(){this.dcChart.on("renderlet.checklist_"+this._uid,()=>{this.updateListValues()}),this.dcChart.on("filtered.checklist_"+this._uid,()=>{this.$nextTick(()=>{this.checkOthersFilterToggled(),this.resetFilters(),this.updateListValues()})})},waitForChartInit(t=!1){this.waitInterval=setInterval(()=>{this.waitingTimer=(this.waitingTimer+1)%100+1,this.$nextTick(()=>{this.dcChart&&(this.reset(),clearInterval(this.waitInterval),this.waitInterval=null)})},t?50:300)}},computed:{dcChart(){return"string"==typeof this.chart&&this.waitingTimer?this.$dc.chartRegistry.list().find(t=>t.name===this.chart):this.chart},displayKey(){return t=>this.keyDisplay?this.keyDisplay(t):(null==t?void 0:t.key)||""},shownGroups(){return this.groupFilter&&this.groupFilter.length?this.groups.filter(t=>new RegExp(this.groupFilter,"gi").test(this.displayKey(t))):this.groups},valueAccessor(){return b(this.options.valueAccessor||(t=>t.value))},computedDigits(){return this.digits||0===this.digits?this.digits:this.options.digits},computedStyle(){let t=[];return this.maxHeight&&(t.push("overflow-y: auto"),"number"==typeof this.maxHeight?t.push(`max-height: ${this.maxHeight}px`):t.push("max-height: "+this.maxHeight)),t.join("; ")},options(){var t;return(null===(t=this.dcChart)||void 0===t?void 0:t.vueOptions)||{}}},beforeDestroy(){this.waitInterval&&clearInterval(this.waitInterval)}},void 0,!1,void 0,!1,v,void 0,void 0);const S=m({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container dc-composite-line-container"},[e("div",{staticClass:"dc-chart dc-composite-line-chart",attrs:{id:"chart-"+this._uid}})])},staticRenderFns:[]},void 0,{name:"DcCompositeLineChart",mixins:[C,O,$,x,_],defaultOptions:{elastic:!0,showLegend:!0,legendOptions:{x:50}},props:{groups:{type:Array,required:!0}},data:()=>({groupCharts:[]}),methods:{async createChart(){var t;this.$options.dimension=this.createDimension();const e=await this.createGroup(this.$options.dimension);let{elastic:i,keyAccessor:s,renderArea:r}=this.computedOptions;if(this.chart=new this.$dc.CompositeChart("#chart-"+this._uid).dimension(this.$options.dimension),this.$super(C).createChart(),this.applyAxisOptions(),i&&this.chart.elasticY(!0),null===(t=this.computedAxisOptions.x)||void 0===t||!t.x){let t=b(this.computedOptions.keyAccessor||(t=>t.key)),e=t(this.$options.dimension.top(1)[0]),i=t(this.$options.dimension.bottom(1)[0]);this.chart.x(this.$d3.scaleLinear().domain([i,e]))}this.groupCharts=this.groups.map(t=>{let i=new this.$dc.LineChart(this.chart).group(e,t.name).valueAccessor(b(t.valueAccessor||(t=>t.value))).keyAccessor(b(s||(t=>t.key)));return(r||t.renderArea)&&i.renderArea(!0),t.color&&i.colors(t.color),i}),this.chart.compose(this.groupCharts),this.applyLegendOptions()},callOnCreate(){var t,e;null===(t=this.computedOptions)||void 0===t||null===(e=t.onCreate)||void 0===e||e.call(t,this.chart,this.groupCharts),this.$emit("create",this.chart,this.groupCharts)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const F=m({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container dc-date-chart-container"},[e("div",{staticClass:"dc-chart dc-date-chart",attrs:{id:"chart-"+this._uid}})])},staticRenderFns:[]},void 0,{name:"DcDateChart",mixins:[C,O,$,x],defaultOptions:{elastic:!0,renderArea:!0,limitTicksToNumDays:!0,useD3TimeDay:!0,snapDateCalculation:!1,useUtcSnapping:!1,fakeGroupingSettings:null},methods:{getDateBounds(){const t=b(this.computedOptions.keyAccessor||(t=>null==t?void 0:t.date));let e=new Date(t(this.$options.dimension.top(1)[0])),i=new Date(t(this.$options.dimension.bottom(1)[0]));this.computedOptions.fakeGroupingSettings&&this.computedOptions.fakeGroupingSettings.startDate&&this.computedOptions.fakeGroupingSettings.endDate&&(i=new Date(this.computedOptions.fakeGroupingSettings.startDate),e=new Date(this.computedOptions.fakeGroupingSettings.endDate));let{snapDateCalculation:s,useUtcSnapping:r}=this.computedOptions;return s&&(r?(e.setUTCHours(0,0,0,0),i.setUTCHours(23,59,59,999)):(e.setHours(0,0,0,0),i.setHours(23,59,59,999))),{top:e,bottom:i,days:Math.ceil(Math.abs(this.daysDifference(e,i)))}},daysDifference:(t,e)=>t&&e&&t.getTime&&e.getTime?(e.getTime()-t.getTime())/1e3/60/60/24:null,createDimension(){let{useD3TimeDay:t}=this.computedOptions;const e=t=>this.$d3.timeDay(new Date(t));let i=t?t=>e(this.$dc.pluck("date")(t)):this.$dc.pluck("date");return"string"==typeof this.dimensionConstructor?i=t?t=>e(this.$dc.pluck(this.dimensionConstructor)(t)):this.$dc.pluck(this.dimensionConstructor):"function"==typeof this.dimensionConstructor&&(i=this.dimensionConstructor),this.ndx.dimension(i,this.dimensionIsArray)},fakeGroup(t,e){let i=new Date(e.startDate),s=new Date(e.endDate);const r=Math.ceil((s.getTime()-i.getTime())/864e5);return{all(){const s=t.all(),a=s.map(t=>t.key.toISOString()),o=[],n=e.fillValue||{};for(let t=0;t<=r;t++){const e=new Date(i);e.setDate(i.getDate()+t),a.includes(e.toISOString())||("object"==typeof n?o.push(Object.assign({},n,{date:e})):"function"==typeof n&&o.push(n(e)))}return s.concat(o).sort((t,e)=>t.key-e.key)},domain:()=>[i,s]}},async createChart(){let{elastic:t,renderArea:e}=this.computedOptions;this.$options.dimension=this.createDimension();let i=await this.createGroup(this.$options.dimension);this.computedOptions.fakeGroupingSettings&&this.computedOptions.fakeGroupingSettings.startDate&&this.computedOptions.fakeGroupingSettings.endDate&&(i=this.fakeGroup(i,this.computedOptions.fakeGroupingSettings));let{top:s,bottom:r,days:a}=this.getDateBounds();if(this.chart=new this.$dc.LineChart("#chart-"+this._uid).dimension(this.$options.dimension).group(i).x(this.$d3.scaleTime().domain([r,s])),this.$super(C).createChart(),this.applyAxisOptions(),t&&this.chart.elasticY(!0),e&&this.chart.renderArea(!0),this.computedOptions.limitTicksToNumDays){var o;let t=(null===(o=this.computedAxisOptions.x)||void 0===o?void 0:o.ticks)||10;this.chart.xAxis().ticks(Math.min(t,a))}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const D=m({render:function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"dc-number-display",attrs:{id:"chart-"+this._uid}})},staticRenderFns:[]},void 0,{name:"DcNumberDisplay",mixins:[C,$],methods:{async createChart(){const t=await this.createGroup(this.ndx,!0);this.chart=new this.$dc.NumberDisplay("#chart-"+this._uid).group(t),this.chart.anchorName=()=>"#chart-"+this._uid,this.$super(C).createChart();let{html:e,singular:i,plural:s,formatNumber:r,valueAccessor:a}=this.computedOptions;const o=()=>e=>b(a||(t=>t))(e,t.value());if(this.ndx.onChange(t=>{"dataAdded"!==t&&"dataRemoved"!==t||this.chart.valueAccessor(o())}),this.chart.valueAccessor(o()),e?this.chart.html(e):i&&(s=s||i+"s",this.chart.html({one:"%number "+i,some:"%number "+s,none:"%number "+s})),r){let t="string"==typeof r?this.$d3.format(r):r;this.chart.formatNumber(t)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);const R=m({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container"},[e("div",{staticClass:"dc-chart dc-pie-chart",attrs:{id:"chart-"+this._uid}})])},staticRenderFns:[]},(function(t){t&&t("data-v-53639d3d_0",{source:".dc-chart.dc-pie-chart .pie-slice:hover{fill-opacity:.8}",map:void 0,media:void 0})}),{name:"DcPieChart",mixins:[C,O,$],defaultOptions:{minRadius:0,maxRadius:1/0,innerRadius:0,slicesCap:10,othersLabel:"others",useImprovedLabels:!0,labelWrapSeparator:";|;"},methods:{async createChart(){this.$options.dimension=this.createDimension();const t=await this.createGroup(this.$options.dimension);this.chart=new this.$dc.PieChart("#chart-"+this._uid).dimension(this.$options.dimension).group(t).externalRadiusPadding(12),this.$super(C).createChart();let e=this.getRadius();this.chart.radius(e),this.chart.width(e),this.chart.height(e);let{innerRadius:i,slicesCap:s,othersLabel:r,useImprovedLabels:a}=this.computedOptions;if(s&&this.chart.slicesCap(s),r&&this.chart.othersLabel(r),i){let t="number"==typeof i?i:e*(parseInt(i)||0)/100;this.chart.innerRadius(t)}if(a){const t=()=>{const t=Math.min(this.chart.width(),this.chart.height())/1.8,e=Math.min(this.chart.radius(),t);return this.$d3.arc().outerRadius(e).innerRadius(this.chart.innerRadius())},e=(t,e)=>{const i=e.centroid(t);return i.some(t=>isNaN(t))?[0,0]:i},i=t=>{const e=this.$d3,i=this.computedOptions.labelWrapSeparator;t.each((function(){const t=e.select(this),s=t.text().split(i);if(!s||s.length<2)return;const r=t.attr("transform"),a=parseFloat(r.slice(r.indexOf("translate(")+10,r.indexOf(","))),o=parseFloat(r.slice(r.indexOf(",")+1,r.indexOf(")")));if(Number.isNaN(a)||Number.isNaN(o))return void console.warn("unable to wrap text",r,a,o,r.slice(r.indexOf("translate(")+10,r.indexOf(",")));let n=t.text(null).append("tspan").attr("transform",`translate(${a}, ${o})`).attr("x",0).attr("y",0);n.text(s[0]),n=t.append("tspan").attr("transform",`translate(${a}, ${o})`).attr("x",0).attr("y",14),n.text(`(${s[1].replace(/[^0-9\-.]/g,"")})`)}))},s=()=>{this.chart.selectAll("text.pie-label").attr("transform",(i,s)=>{const r=t(this.chart),a=e(i,r);let o=(s+1)/6+.3;return a[1]<0&&(o=1),`translate(${a[0]}, ${a[1]*o})`}),this.chart.selectAll(".pie-label-group text.pie-label").transition().call(i)};this.chart.on("renderlet.vue-dcjs",t=>{const e=this.getRadius();this.chart.radius()!==e&&(this.chart.radius(e),this.chart.height(e),this.chart.width(e),this.chart.redraw())}),this.chart.on("pretransition.vue-dcjs",s)}},render(){this.$super(C).render(),this.computedOptions.useImprovedLabels&&this.$nextTick(()=>{this.chart.redraw()})},getRadius(){let t=document.querySelector("#chart-"+this._uid);if(!t)return 0;let e=t.clientWidth;if(!e&&t.parentNode&&t.parentNode.parentNode){let i=0,s=t.parentNode.parentNode;try{const t=window.getComputedStyle(s,null);i+=parseInt(t.getPropertyValue("padding-left"))||0,i+=parseInt(t.getPropertyValue("padding-right"))||0}catch{i=0}e=s.clientWidth-i}let{minRadius:i,maxRadius:s}=this.computedOptions;return k(e,i,s)}}},void 0,!1,void 0,!1,v,void 0,void 0);const T=m({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container dc-row-chart-container"},[e("div",{staticClass:"dc-chart dc-row-chart",class:{"is-scrollable":this.axisChart},style:this.computedStyle,attrs:{id:"chart-"+this._uid}}),this._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.canScroll,expression:"canScroll"}],staticClass:"dc-chart dc-axis-chart dc-row-axis-chart",attrs:{id:"chart-"+this._uid+"-axis"}})])},staticRenderFns:[]},(function(t){t&&t("data-v-dd80c184_0",{source:".dc-chart.dc-row-chart.is-scrollable>svg{position:relative;top:6px}.dc-chart.dc-row-chart.is-scrollable .axis g.tick line:not(.grid-line),.dc-chart.dc-row-chart.is-scrollable .axis g.tick text,.dc-chart.dc-row-chart.is-scrollable .axis path{display:none!important;stroke:none}",map:void 0,media:void 0})}),{name:"DcRowChart",mixins:[C,O,$],defaultOptions:{elastic:!0,scrollable:!0,minHeight:150,barHeight:20,axisChartheight:50,scrollHeight:"200px",scrollbarPadding:0},data:()=>({axisChart:null,canScroll:!1}),methods:{async createChart(){let{elastic:t,scrollable:e,minHeight:i,barHeight:s,axisChartHeight:r,valueAccessor:a,keyAccessor:o}=this.computedOptions;this.$options.dimension=this.createDimension();const n=await this.createGroup(this.$options.dimension);this.canScroll=e&&n.size()*s>i,this.chart=new this.$dc.RowChart("#chart-"+this._uid).dimension(this.$options.dimension).group(n),this.$super(C).createChart();let c=this.canScroll?Object.assign({},this.computedMargins,{bottom:-1}):this.computedMargins;if(this.chart.margins(c),t&&this.chart.elasticX(!0),this.canScroll){this.chart.height(n.size()*s),this.chart.transitionDuration(1e3);let e=Object.assign({},this.computedMargins,{top:0});this.axisChart=new this.$dc.AxisChart(`#chart-${this._uid}-axis`).dimension(this.$options.dimension).group(n).height(r).margins(e),a&&this.axisChart.valueAccessor(b(a)),o&&this.axisChart.keyAccessor(b(o)),t&&this.axisChart.elastic(!0)}},render(){var t;this.$super(C).render(),null===(t=this.axisChart)||void 0===t||t.render()},callOnCreate(){var t,e;null===(t=this.computedOptions)||void 0===t||null===(e=t.onCreate)||void 0===e||e.call(t,this.chart,this.axisChart),this.$emit("create",this.chart,this.axisChart)}},computed:{computedStyle(){let t=[];return this.canScroll&&(t.push("overflow-y: auto; overflow-x: hidden;"),this.computedOptions.scrollHeight&&t.push("max-height: "+this.computedOptions.scrollHeight)),t.join("; ")},computedMargins(){var t,e;let i=Object.assign({top:30,right:30,bottom:30,left:30},null===(t=this.$options.defaultOptions)||void 0===t?void 0:t.margins,null===(e=this.options)||void 0===e?void 0:e.margins);const{scrollbarPadding:s}=this.computedOptions;return this.canScroll&&s&&(i.right+=s),i}}},void 0,!1,void 0,!1,v,void 0,void 0);const L=m({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dc-chart-container dc-stacked-bar-container"},[e("div",{staticClass:"dc-chart dc-stacked-bar-chart",attrs:{id:"chart-"+this._uid}})])},staticRenderFns:[]},(function(t){t&&t("data-v-7698aa04_0",{source:".dc-stacked-bar-chart rect.bar.stack-deselected{opacity:.2}",map:void 0,media:void 0})}),{name:"DcStackedBarChart",mixins:[C,O,$,x,_],defaultOptions:{elastic:!0,showLegend:!0,legendOptions:{x:50}},props:{groups:{type:Array,required:!0},stacks:{type:Array,required:!0},colors:{type:Array},keySeparator:{type:String,default:";|;"},groupAccessor:{type:[String,Function]},stackAccessor:{type:[String,Function]},validateFunction:{type:Function}},methods:{stackKey:t=>"string"==typeof t?t:t.key||t.name||t,stackName:t=>"string"==typeof t?t:t.name||t.key||t,computedValidateFunction(t,e,i){if(this.validateFunction||this.computedOptions.validateFunction){return(this.validateFunction||this.computedOptions.validateFunction)(t,e,i)}{const s=this.stackKey(e);return this.stackAccessorFunc(t)===s&&this.groupAccessorFunc(t)===i}},createChart(){var t;this.$options.dimension=this.ndx.dimension(t=>t);let{add:e,remove:i,init:s}=this.stackReducer;const r=this.stackedGroup(this.$options.dimension.groupAll().reduce(e,i,s)),{elastic:a,title:o,barPadding:n,barGap:c,outerBarPadding:h}=this.computedOptions;this.chart=new this.$dc.BarChart("#chart-"+this._uid).dimension(this.$options.dimension),this.$super(C).createChart(),this.applyAxisOptions(),null!==(t=this.computedAxisOptions.x)&&void 0!==t&&t.x||(this.chart.x(this.$d3.scaleBand().domain(this.groups)),this.chart.xUnits(this.$dc.units.ordinal));let l=r.all().length||1;if(this.chart.barPadding(k(2/l,.1,.75)),void 0!==n?this.chart.barPadding(n):void 0!==c&&this.chart.gap(c),void 0!==h&&this.chart.outerPadding(h),a&&this.chart.elasticY(!0),this.computedColors.length){const t=this.$d3.scaleOrdinal().domain(this.stacks).range(this.stacks.map((t,e)=>this.computedColors[e%this.computedColors.length]));this.chart.colors(t)}this.chart.title(b(o||function(t){return`${this.layer} ${t.key}: ${t.value[this.layer]}`}));const d=this.keySeparator||";|;",u=this.$dc;this.chart.on("pretransition.vue-dcjs",(function(t){t.selectAll("rect.bar").classed("deselected",!1).classed("stack-deselected",(function(e){var i=e.layer+d+e.x;return t.filter()&&!t.filters().some(t=>t[0]===i)})).on("click",(function(e,i){t.filter([i.layer+d+i.x]),u.redrawAll()}))})),this.stacks.forEach((t,e)=>{const i=this.stackKey(t),s=e?"stack":"group";this.chart[s](r,i,t=>t.value[i])}),this.chart.legendables=()=>{const t=this.chart;return this.stacks.map(e=>{const i=this.stackName(e),s=this.stackKey(e),r=this.chart.colors()(s);return{chart:t,name:i,color:r}})},this.applyLegendOptions(),this.chart.filterHandler((t,e)=>(e&&e.length?t.filterFunction(t=>e.some(e=>{const[i,s]=e[0].split(this.keySeparator||";|;");return this.computedValidateFunction(t,i,s)})):t.filter(null),e))},stackedGroup(t){let e=this.keySeparator;return{all:function(){var i=Object.entries(t.value()).map(([t,e])=>({key:t,value:e})),s={};return i.forEach(t=>{const[i,r]=t.key.split(e);s[i]=s[i]||{},s[i][r]=t.value}),Object.keys(s).map(t=>({key:t,value:s[t]}))}}}},computed:{computedColors(){let t=this.colors||[];return this.stacks&&this.stacks.length&&this.stacks.every(t=>t.color)&&(t=this.stacks.map(t=>t.color)),!t.length&&this.stacks&&this.stacks.length&&(t=this.stacks.map((t,e)=>this.$d3.interpolateTurbo((e+.5)/this.stacks.length))),t},stackReducer(){return{add:(t,e)=>(this.groups.forEach(i=>{this.stacks.forEach(s=>{let r=this.stackKey(s);this.computedValidateFunction(e,s,i)&&(t[`${i}${this.keySeparator}${r}`]+=b(this.computedOptions.valueAccessor||(t=>t.value))(e,s,i)||0)})}),t),remove:(t,e)=>(this.groups.forEach(i=>{this.stacks.forEach(s=>{let r=this.stackKey(s);this.computedValidateFunction(e,s,i)&&(t[`${i}${this.keySeparator}${r}`]-=b(this.computedOptions.valueAccessor||(t=>t.value))(e,s,i)||0)})}),t),init:()=>{const t={};return this.groups.forEach(e=>{this.stacks.forEach(i=>{let s=this.stackKey(i);t[`${e}${this.keySeparator}${s}`]=0})}),t}}},stackAccessorFunc(){return b(this.stackAccessor||this.computedOptions.stackAccessor||(t=>t.stack))},groupAccessorFunc(){return b(this.groupAccessor||this.computedOptions.groupAccessor||(t=>t.group))}}},void 0,!1,void 0,!1,v,void 0,void 0),E={registerComponents:!0},M={install(t,e){const i=Object.assign({},E,e);t.prototype.$super=function(t){return new Proxy(t,{get:(t,e)=>{if(t.methods&&e in t.methods)return t.methods[e].bind(this)}})},t.use(u,i),i.registerComponents&&(t.component("dc-bar-chart",A),t.component("dc-checklist",w),t.component("dc-composite-line-chart",S),t.component("dc-date-chart",F),t.component("dc-number-display",D),t.component("dc-pie-chart",R),t.component("dc-row-chart",T),t.component("dc-stacked-bar-chart",L))}};exports.dc=a,exports.d3=o,Object.defineProperty(exports,"crossfilter",{enumerable:!0,get:function(){return n.default}}),exports.AxisMixin=x,exports.BaseChartMixin=C,exports.DcBarChart=A,exports.DcChecklist=w,exports.DcCompositeLineChart=S,exports.DcDateChart=F,exports.DcNumberDisplay=D,exports.DcPieChart=R,exports.DcRowChart=T,exports.DcStackedBarChart=L,exports.DimensionMixin=O,exports.GroupMixin=$,exports.LegendMixin=_,exports.VueDc=M,exports.default=M;
//# sourceMappingURL=index.js.map
